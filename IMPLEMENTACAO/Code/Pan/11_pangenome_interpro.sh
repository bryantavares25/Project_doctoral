#!/bin/bash

dir=/home/lgef/
mhp=Documentos/GitHub/Project_doctoral/IMPLEMENTACAO/Genomes/M_hyopneumoniae

#/home/lgef/Documentos/GitHub/Project_doctoral/IMPLEMENTACAO/Genomes/M_hyopneumoniae/strains/11/Use/GCF_002193015.1/protein.faa

### ANVIO

anvi-get-sequences-for-gene-clusters \
  -p YOUR-PAN-DB.db \
  -o output_protein_seqs.fa \
  --external-genomes external-genomes.txt \
  --get-aa-sequences

###

#!/bin/bash

input="proteins.fasta"

while read -r line; do
    if [[ $line == ">"* ]]; then
        # Extrai o GC_ID do cabeçalho, ex: GC_00000142
        gc_id=$(echo "$line" | grep -oP 'gene_cluster:\KGC_[^|]+')
        # Remove o > do cabeçalho
        header=$line
    else
        # Salva a sequência no arquivo correspondente ao GC
        echo "$header" >> "${gc_id}.faa"
        echo "$line" >> "${gc_id}.faa"
    fi
done < "$input"

####

#!/bin/bash

input="proteins.fasta"

while read -r line; do
    if [[ $line == ">"* ]]; then
        # Extrai o GC_ID do cabeçalho
        gc_id=$(echo "$line" | grep -oP 'gene_cluster:\KGC_[^|]+')

        # Se não encontrar GC_ID, ignora
        if [[ -z $gc_id ]]; then
            gc_id=""
            header=""
            continue
        fi

        header="$line"
    else
        # Remove os traços da sequência
        clean_seq=$(echo "$line" | tr -d '-')

        # Só escreve se o GC_ID for válido
        if [[ -n $gc_id ]]; then
            echo "$header" >> "${gc_id}.faa"
            echo "$clean_seq" >> "${gc_id}.faa"
        fi
    fi
done < "$input"

#interproscan

t=(GC_00000001.faa GC_00000002.faa GC_00000003.faa GC_00000004.faa GC_00000005.faa GC_00000006.faa GC_00000007.faa GC_00000008.faa GC_00000009.faa GC_00000010.faa GC_00000011.faa GC_00000012.faa GC_00000013.faa GC_00000014.faa GC_00000015.faa GC_00000016.faa GC_00000017.faa GC_00000018.faa GC_00000019.faa GC_00000020.faa GC_00000021.faa GC_00000022.faa GC_00000023.faa GC_00000024.faa GC_00000025.faa GC_00000026.faa GC_00000027.faa GC_00000028.faa GC_00000029.faa GC_00000030.faa GC_00000031.faa GC_00000032.faa GC_00000033.faa GC_00000034.faa GC_00000035.faa GC_00000036.faa GC_00000037.faa GC_00000038.faa GC_00000039.faa GC_00000040.faa GC_00000041.faa GC_00000042.faa GC_00000043.faa GC_00000044.faa GC_00000045.faa GC_00000046.faa GC_00000047.faa GC_00000048.faa GC_00000049.faa GC_00000050.faa GC_00000051.faa GC_00000052.faa GC_00000053.faa GC_00000054.faa GC_00000055.faa GC_00000056.faa GC_00000057.faa GC_00000058.faa GC_00000059.faa GC_00000060.faa GC_00000061.faa GC_00000062.faa GC_00000063.faa GC_00000064.faa GC_00000065.faa GC_00000066.faa GC_00000067.faa GC_00000068.faa GC_00000069.faa GC_00000070.faa GC_00000071.faa GC_00000072.faa GC_00000073.faa GC_00000074.faa GC_00000075.faa GC_00000076.faa GC_00000077.faa GC_00000078.faa GC_00000079.faa GC_00000080.faa GC_00000081.faa GC_00000082.faa GC_00000083.faa GC_00000084.faa GC_00000085.faa GC_00000086.faa GC_00000087.faa GC_00000088.faa GC_00000089.faa GC_00000090.faa GC_00000091.faa GC_00000092.faa GC_00000093.faa GC_00000094.faa GC_00000095.faa GC_00000096.faa GC_00000097.faa GC_00000098.faa GC_00000099.faa GC_00000100.faa GC_00000101.faa GC_00000102.faa GC_00000103.faa GC_00000104.faa GC_00000105.faa GC_00000106.faa GC_00000107.faa GC_00000108.faa GC_00000109.faa GC_00000110.faa GC_00000111.faa GC_00000112.faa GC_00000113.faa GC_00000114.faa GC_00000115.faa GC_00000116.faa GC_00000117.faa GC_00000118.faa GC_00000119.faa GC_00000120.faa GC_00000121.faa GC_00000122.faa GC_00000123.faa GC_00000124.faa GC_00000125.faa GC_00000126.faa GC_00000127.faa GC_00000128.faa GC_00000129.faa GC_00000130.faa GC_00000131.faa GC_00000132.faa GC_00000133.faa GC_00000134.faa GC_00000135.faa GC_00000136.faa GC_00000137.faa GC_00000138.faa GC_00000139.faa GC_00000140.faa GC_00000141.faa GC_00000142.faa GC_00000143.faa GC_00000144.faa GC_00000145.faa GC_00000146.faa GC_00000147.faa GC_00000148.faa GC_00000149.faa GC_00000150.faa GC_00000151.faa GC_00000152.faa GC_00000153.faa GC_00000154.faa GC_00000155.faa GC_00000156.faa GC_00000157.faa GC_00000158.faa GC_00000159.faa GC_00000160.faa GC_00000161.faa GC_00000162.faa GC_00000163.faa GC_00000164.faa GC_00000165.faa GC_00000166.faa GC_00000167.faa GC_00000168.faa GC_00000169.faa GC_00000170.faa GC_00000171.faa GC_00000172.faa GC_00000173.faa GC_00000174.faa GC_00000175.faa GC_00000176.faa GC_00000177.faa GC_00000178.faa GC_00000179.faa GC_00000180.faa GC_00000181.faa GC_00000182.faa GC_00000183.faa GC_00000184.faa GC_00000185.faa GC_00000186.faa GC_00000187.faa GC_00000188.faa GC_00000189.faa GC_00000190.faa GC_00000191.faa GC_00000192.faa GC_00000193.faa GC_00000194.faa GC_00000195.faa GC_00000196.faa GC_00000197.faa GC_00000198.faa GC_00000199.faa GC_00000200.faa GC_00000201.faa GC_00000202.faa GC_00000203.faa GC_00000204.faa GC_00000205.faa GC_00000206.faa GC_00000207.faa GC_00000208.faa GC_00000209.faa GC_00000210.faa GC_00000211.faa GC_00000212.faa GC_00000213.faa GC_00000214.faa GC_00000215.faa GC_00000216.faa GC_00000217.faa GC_00000218.faa GC_00000219.faa GC_00000220.faa GC_00000221.faa GC_00000222.faa GC_00000223.faa GC_00000224.faa GC_00000225.faa GC_00000226.faa GC_00000227.faa GC_00000228.faa GC_00000229.faa GC_00000230.faa GC_00000231.faa GC_00000232.faa GC_00000233.faa GC_00000234.faa GC_00000235.faa GC_00000236.faa GC_00000237.faa GC_00000238.faa GC_00000239.faa GC_00000240.faa GC_00000241.faa GC_00000242.faa GC_00000243.faa GC_00000244.faa GC_00000245.faa GC_00000246.faa GC_00000247.faa GC_00000248.faa GC_00000249.faa GC_00000250.faa GC_00000251.faa GC_00000252.faa GC_00000253.faa GC_00000254.faa GC_00000255.faa GC_00000256.faa GC_00000257.faa GC_00000258.faa GC_00000259.faa GC_00000260.faa GC_00000261.faa GC_00000262.faa GC_00000263.faa GC_00000264.faa GC_00000265.faa GC_00000266.faa GC_00000267.faa GC_00000268.faa GC_00000269.faa GC_00000270.faa GC_00000271.faa GC_00000272.faa GC_00000273.faa GC_00000274.faa GC_00000275.faa GC_00000276.faa GC_00000277.faa GC_00000278.faa GC_00000279.faa GC_00000280.faa GC_00000281.faa GC_00000282.faa GC_00000283.faa GC_00000284.faa GC_00000285.faa GC_00000286.faa GC_00000287.faa GC_00000288.faa GC_00000289.faa GC_00000290.faa GC_00000291.faa GC_00000292.faa GC_00000293.faa GC_00000294.faa GC_00000295.faa GC_00000296.faa GC_00000297.faa GC_00000298.faa GC_00000299.faa GC_00000300.faa GC_00000301.faa GC_00000302.faa GC_00000303.faa GC_00000304.faa GC_00000305.faa GC_00000306.faa GC_00000307.faa GC_00000308.faa GC_00000309.faa GC_00000310.faa GC_00000311.faa GC_00000312.faa GC_00000313.faa GC_00000314.faa GC_00000315.faa GC_00000316.faa GC_00000317.faa GC_00000318.faa GC_00000319.faa GC_00000320.faa GC_00000321.faa GC_00000322.faa GC_00000323.faa GC_00000324.faa GC_00000325.faa GC_00000326.faa GC_00000327.faa GC_00000328.faa GC_00000329.faa GC_00000330.faa GC_00000331.faa GC_00000332.faa GC_00000333.faa GC_00000334.faa GC_00000335.faa GC_00000336.faa GC_00000337.faa GC_00000338.faa GC_00000339.faa GC_00000340.faa GC_00000341.faa GC_00000342.faa GC_00000343.faa GC_00000344.faa GC_00000345.faa GC_00000346.faa GC_00000347.faa GC_00000348.faa GC_00000349.faa GC_00000350.faa GC_00000351.faa GC_00000352.faa GC_00000353.faa GC_00000354.faa GC_00000355.faa GC_00000356.faa GC_00000357.faa GC_00000358.faa GC_00000359.faa GC_00000360.faa GC_00000361.faa GC_00000362.faa GC_00000363.faa GC_00000364.faa GC_00000365.faa GC_00000366.faa GC_00000367.faa GC_00000368.faa GC_00000369.faa GC_00000370.faa GC_00000371.faa GC_00000372.faa GC_00000373.faa GC_00000374.faa GC_00000375.faa GC_00000376.faa GC_00000377.faa GC_00000378.faa GC_00000379.faa GC_00000380.faa GC_00000381.faa GC_00000382.faa GC_00000383.faa GC_00000384.faa GC_00000385.faa GC_00000386.faa GC_00000387.faa GC_00000388.faa GC_00000389.faa GC_00000390.faa GC_00000391.faa GC_00000392.faa GC_00000393.faa GC_00000394.faa GC_00000395.faa GC_00000396.faa GC_00000397.faa GC_00000398.faa GC_00000399.faa GC_00000400.faa GC_00000401.faa GC_00000402.faa GC_00000403.faa GC_00000404.faa GC_00000405.faa GC_00000406.faa GC_00000407.faa GC_00000408.faa GC_00000409.faa GC_00000410.faa GC_00000411.faa GC_00000412.faa GC_00000413.faa GC_00000414.faa GC_00000415.faa GC_00000416.faa GC_00000417.faa GC_00000418.faa GC_00000419.faa GC_00000420.faa GC_00000421.faa GC_00000422.faa GC_00000423.faa GC_00000424.faa GC_00000425.faa GC_00000426.faa GC_00000427.faa GC_00000428.faa GC_00000429.faa GC_00000430.faa GC_00000431.faa GC_00000432.faa GC_00000433.faa GC_00000434.faa GC_00000435.faa GC_00000436.faa GC_00000437.faa GC_00000438.faa GC_00000439.faa GC_00000440.faa GC_00000441.faa GC_00000442.faa GC_00000443.faa GC_00000444.faa GC_00000445.faa GC_00000446.faa GC_00000447.faa GC_00000448.faa GC_00000449.faa GC_00000450.faa GC_00000451.faa GC_00000452.faa GC_00000453.faa GC_00000454.faa GC_00000455.faa GC_00000456.faa GC_00000457.faa GC_00000458.faa GC_00000459.faa GC_00000460.faa GC_00000461.faa GC_00000462.faa GC_00000463.faa GC_00000464.faa GC_00000465.faa GC_00000466.faa GC_00000467.faa GC_00000468.faa GC_00000469.faa GC_00000470.faa GC_00000471.faa GC_00000472.faa GC_00000473.faa GC_00000474.faa GC_00000475.faa GC_00000476.faa GC_00000477.faa GC_00000478.faa GC_00000479.faa GC_00000480.faa GC_00000481.faa GC_00000482.faa GC_00000483.faa GC_00000484.faa GC_00000485.faa GC_00000486.faa GC_00000487.faa GC_00000488.faa GC_00000489.faa GC_00000490.faa GC_00000491.faa GC_00000492.faa GC_00000493.faa GC_00000494.faa GC_00000495.faa GC_00000496.faa GC_00000497.faa GC_00000498.faa GC_00000499.faa GC_00000500.faa GC_00000501.faa GC_00000502.faa GC_00000503.faa GC_00000504.faa GC_00000505.faa GC_00000506.faa GC_00000507.faa GC_00000508.faa GC_00000509.faa GC_00000510.faa GC_00000511.faa GC_00000512.faa GC_00000513.faa GC_00000514.faa GC_00000515.faa GC_00000516.faa GC_00000517.faa GC_00000518.faa GC_00000519.faa GC_00000520.faa GC_00000521.faa GC_00000522.faa GC_00000523.faa GC_00000524.faa GC_00000525.faa GC_00000526.faa GC_00000527.faa GC_00000528.faa GC_00000529.faa GC_00000530.faa GC_00000531.faa GC_00000532.faa GC_00000533.faa GC_00000534.faa GC_00000535.faa GC_00000536.faa GC_00000537.faa GC_00000538.faa GC_00000539.faa GC_00000540.faa GC_00000541.faa GC_00000542.faa GC_00000543.faa GC_00000544.faa GC_00000545.faa GC_00000546.faa GC_00000547.faa GC_00000548.faa GC_00000549.faa GC_00000550.faa GC_00000551.faa GC_00000552.faa GC_00000553.faa GC_00000554.faa GC_00000555.faa GC_00000556.faa GC_00000557.faa GC_00000558.faa GC_00000559.faa GC_00000560.faa GC_00000561.faa GC_00000562.faa GC_00000563.faa GC_00000564.faa GC_00000565.faa GC_00000566.faa GC_00000567.faa GC_00000568.faa GC_00000569.faa GC_00000570.faa GC_00000571.faa GC_00000572.faa GC_00000573.faa GC_00000574.faa GC_00000575.faa GC_00000576.faa GC_00000577.faa GC_00000578.faa GC_00000579.faa GC_00000580.faa GC_00000581.faa GC_00000582.faa GC_00000583.faa GC_00000584.faa GC_00000585.faa GC_00000586.faa GC_00000587.faa GC_00000588.faa GC_00000589.faa)
for i in ${t[@]}; do interproscan -i ${i} -f tsv -o interproscan_${i}.tsv -goterms; done